{% import "macro.twig" as macro %}
{% block content %}
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE instance-profile
        SYSTEM "https://resources.jetbrains.com/writerside/1.0/product-profile.dtd">

<instance-profile id="api"
name="FireHub Core API"
start-page="api.md">
<toc-element topic="api.md"/>
{% for package
    in project.indexes.packages
    |sort((a,b) => a.FullyQualifiedStructuralElementName <=> b.FullyQualifiedStructuralElementName)
%}
{% if (
    package.classes|length
    or package.traits|length
    or package.enums|length
    or package.constants|length
    or package.functions|length
    ) > 0
%}
    <toc-element toc-title="{{ package.FullyQualifiedStructuralElementName }}">
{% if package.classes|length > 0 %}
        <toc-element toc-title="classes">
{% for class
    in package.classes
    |sort((a,b) => a.FullyQualifiedStructuralElementName <=> b.FullyQualifiedStructuralElementName)
%}
            <toc-element topic="{{ macro.IndexLink(class.name)|trim }}"/>
{% endfor %}
        </toc-element>
{% endif %}
{% if package.interfaces|length > 0 %}
        <toc-element toc-title="interfaces">
{% for interface
    in package.interfaces
    |sort((a,b) => a.FullyQualifiedStructuralElementName <=> b.FullyQualifiedStructuralElementName)
%}
            <toc-element topic="{{ macro.IndexLink(interface.name)|trim }}"/>
{% endfor %}
        </toc-element>
{% endif %}
{% if package.traits|length > 0 %}
        <toc-element toc-title="traits">
{% for trait
    in package.traits
    |sort((a,b) => a.FullyQualifiedStructuralElementName <=> b.FullyQualifiedStructuralElementName)
%}
            <toc-element topic="{{ macro.IndexLink(trait.name) }}"/>
{% endfor %}
        </toc-element>
{% endif %}
{% if package.enums|length > 0 %}
        <toc-element toc-title="enums">
{% for enum
    in package.enums
    |sort((a,b) => a.FullyQualifiedStructuralElementName <=> b.FullyQualifiedStructuralElementName)
%}
            <toc-element topic="{{ macro.IndexLink(enum.name) }}"/>
{% endfor %}
        </toc-element>
{% endif %}
{% if package.constants|length > 0 %}
        <toc-element toc-title="constants">
{% for constant
    in package.constants
    |sort((a,b) => a.FullyQualifiedStructuralElementName <=> b.FullyQualifiedStructuralElementName)
%}
            <toc-element topic="{{ macro.IndexLink(constant.name) }}"/>
{% endfor %}
        </toc-element>
{% endif %}
{% if package.functions|length > 0 %}
        <toc-element toc-title="functions">
{% for function
    in package.functions
    |sort((a,b) => a.FullyQualifiedStructuralElementName <=> b.FullyQualifiedStructuralElementName)
%}
            <toc-element topic="{{ macro.IndexLink(function.name) }}"/>
{% endfor %}
        </toc-element>
{% endif %}
    </toc-element>
{% endif %}
{% endfor %}
</instance-profile>
{% endblock %}